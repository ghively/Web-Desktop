<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Omarchy Web Desktop</title>
    <link rel="stylesheet" href="/css/desktop.css">
    <link rel="stylesheet" href="/css/window.css">
    <link rel="stylesheet" href="/css/notes.css">
    <link rel="stylesheet" href="/css/monitor.css">
    <link rel="stylesheet" href="/css/aiModelManager.css">
    <link rel="stylesheet" href="/css/themeCustomizer.css">
    <link rel="stylesheet" href="/css/controlPanel.css">
    <link rel="stylesheet" href="/css/monitoringDashboard.css">
    <link rel="stylesheet" href="/css/vnc.css">
    <link rel="stylesheet" href="/css/rdp.css">
    <link rel="stylesheet" href="/css/marketplace.css">
    <link rel="stylesheet" href="/css/windowLayoutTools.css">

    <!-- Markdown parser -->
    <script src="https://cdn.jsdelivr.net/npm/marked@11.0.0/marked.min.js"></script>
    <!-- Fuse.js -->
    <script src="/lib/fuse.min.js"></script>
    <!-- xterm.js -->
    <link rel="stylesheet" href="/lib/xterm.css" />
    <script src="/lib/xterm.js"></script>
    <script src="/lib/xterm-addon-fit.js"></script>
    <!-- Monaco Editor -->
    <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs/loader.js"></script>
    <!-- xterm.js -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm@4.18.0/css/xterm.css" />
    <script src="https://cdn.jsdelivr.net/npm/xterm@4.18.0/lib/xterm.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xterm-addon-fit@0.5.0/lib/xterm-addon-fit.js"></script>
    <!-- Fuse.js for fuzzy search -->
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0/dist/fuse.min.js"></script>
</head>

<body>
    <div id="desktop">
        <div id="topbar">
            <div class="topbar-left">
                <button id="launcher-button" class="floating-button">
                    <span class="icon">üöÄ</span>
                    <span>Apps</span>
                </button>
                <div class="separator"></div>
                <div id="running-apps"></div>
            </div>
            <div class="topbar-right">
                <span id="system-info">CPU: 0%</span>
                <span id="clock">--:--:--</span>
            </div>
        </div>

        <div id="desktop-area"></div>

        <div class="floating-buttons">
            <button id="marketplace-button" class="floating-button">
                <span class="icon">üõí</span>
                <span>Marketplace</span>
            </button>
            <button id="vnc-button" class="floating-button">
                <span class="icon">üíª</span>
                <span>VNC</span>
            </button>
            <button id="window-layout-tools-button" class="floating-button">
                <span class="icon">üìê</span>
                <span>Layout</span>
            </button>
            <button id="virtual-desktops-button" class="floating-button">
                <span class="icon">üñ•Ô∏è</span>
                <span>Desktops</span>
            </button>
            <button id="ai-integration-button" class="floating-button">
                <span class="icon">ü§ñ</span>
                <span>AI</span>
            </button>
            <button id="ai-model-manager-button" class="floating-button">
                <span class="icon">üß†</span>
                <span>Models</span>
            </button>
            <button id="storage-pools-button" class="floating-button">
                <span class="icon">üíæ</span>
                <span>Storage</span>
            </button>
            <button id="nginx-proxy-button" class="floating-button">
                <span class="icon">üåê</span>
                <span>Proxy</span>
            </button>
            <button id="shares-button" class="floating-button">
                <span class="icon">üìÅ</span>
                <span>Shares</span>
            </button>
            <button id="wifi-button" class="floating-button">
                <span class="icon">üì∂</span>
                <span>WiFi</span>
            </button>
            <button id="media-server-button" class="floating-button">
                <span class="icon">üé¨</span>
                <span>Media</span>
            </button>
            <button id="home-assistant-button" class="floating-button">
                <span class="icon">üè†</span>
                <span>HA</span>
            </button>
            <button id="monitoring-dashboard-button" class="floating-button">
                <span class="icon">üìä</span>
                <span>Monitor</span>
            </button>
            <button id="control-panel-button" class="floating-button">
                <span class="icon">üéõÔ∏è</span>
                <span>Control Panel</span>
            </button>
            <button id="theme-customizer-button" class="floating-button">
                <span class="icon">üé®</span>
                <span>Theme</span>
            </button>
            <button id="settings-button" class="floating-button">
                <span class="icon">‚öôÔ∏è</span>
                <span>Settings</span>
            </button>
            <button id="mode-toggle" class="floating-button">
                <span id="mode-text">TILING</span>
            </button>
        </div>

        <div id="settings-panel" class="hidden">
            <div class="settings-content">
                <div class="settings-header">
                    <h2>Settings</h2>
                    <button id="close-settings" class="window-button close"></button>
                </div>
                <div class="settings-body">
                    <div class="setting-group">
                        <h3>Appearance</h3>
                        <div class="setting-item">
                            <span class="setting-label">Window Opacity</span>
                            <div class="setting-control">
                                <input type="range" id="opacity-slider" min="0.5" max="1" step="0.05" value="0.95">
                                <span id="opacity-value">95%</span>
                            </div>
                        </div>
                        <div class="setting-item">
                            <span class="setting-label">Wallpaper URL</span>
                            <div class="setting-control">
                                <input type="text" id="wallpaper-url" placeholder="https://example.com/image.jpg">
                            </div>
                        </div>
                        <div class="setting-item">
                            <span class="setting-label">Use Gradient Background</span>
                            <div class="setting-control">
                                <input type="checkbox" id="use-gradient">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="app-launcher" class="hidden">
            <div class="launcher-content">
                <div class="launcher-tabs">
                    <button class="launcher-tab active" data-tab="installed">Installed</button>
                    <button class="launcher-tab" data-tab="available">Available to Install</button>
                </div>
                <div class="launcher-header">
                    <span class="icon">üîç</span>
                    <input type="text" id="launcher-search" placeholder="Search apps...">
                </div>
                <div class="launcher-apps" id="launcher-apps-list"></div>
                <div class="launcher-footer">
                    <span>Tab: switch view</span>
                    <div class="keybinds">
                        <span><span class="key">‚Üµ</span> open</span>
                        <span><span class="key">Esc</span> close</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Marketplace Modal -->
        <div id="marketplace-modal" class="hidden">
            <div class="marketplace-container">
                <div class="marketplace-header">
                    <span class="icon">üõí</span>
                    <h1>App Marketplace</h1>
                    <button class="close-marketplace">√ó</button>
                </div>
                <div class="marketplace-body">
                    <div class="marketplace-sidebar">
                        <div class="marketplace-search">
                            <input type="text" id="marketplace-search" class="search-input" placeholder="Search for apps...">
                        </div>

                        <div class="nav-section">
                            <div class="nav-section-title">Browse</div>
                            <button class="nav-item active" data-view="browse">
                                <span class="icon">üîç</span>
                                <span>Discover</span>
                                <span class="badge" id="total-apps-count">0</span>
                            </button>
                            <button class="nav-item" data-view="installed">
                                <span class="icon">üì±</span>
                                <span>My Apps</span>
                                <span class="badge" id="installed-apps-count">0</span>
                            </button>
                            <button class="nav-item" data-view="updates">
                                <span class="icon">üîÑ</span>
                                <span>Updates</span>
                                <span class="badge">0</span>
                            </button>
                            <button class="nav-item" data-view="recent">
                                <span class="icon">üïí</span>
                                <span>Recent</span>
                                <span class="badge">0</span>
                            </button>
                        </div>

                        <div class="nav-section">
                            <div class="nav-section-title">Categories</div>
                            <button class="nav-item" data-category="all">
                                <span class="icon">üìÇ</span>
                                <span>All Apps</span>
                            </button>
                            <button class="nav-item" data-category="productivity">
                                <span class="icon">üìã</span>
                                <span>Productivity</span>
                            </button>
                            <button class="nav-item" data-category="development">
                                <span class="icon">üíª</span>
                                <span>Development</span>
                            </button>
                            <button class="nav-item" data-category="multimedia">
                                <span class="icon">üéµ</span>
                                <span>Multimedia</span>
                            </button>
                            <button class="nav-item" data-category="games">
                                <span class="icon">üéÆ</span>
                                <span>Games</span>
                            </button>
                            <button class="nav-item" data-category="education">
                                <span class="icon">üìö</span>
                                <span>Education</span>
                            </button>
                            <button class="nav-item" data-category="utilities">
                                <span class="icon">üîß</span>
                                <span>Utilities</span>
                            </button>
                            <button class="nav-item" data-category="system">
                                <span class="icon">‚öôÔ∏è</span>
                                <span>System</span>
                            </button>
                            <button class="nav-item" data-category="graphics">
                                <span class="icon">üé®</span>
                                <span>Graphics</span>
                            </button>
                            <button class="nav-item" data-category="network">
                                <span class="icon">üåê</span>
                                <span>Network</span>
                            </button>
                            <button class="nav-item" data-category="office">
                                <span class="icon">üìÑ</span>
                                <span>Office</span>
                            </button>
                        </div>
                    </div>

                    <div class="marketplace-content">
                        <div class="content-header">
                            <h2>Discover Apps</h2>
                            <p>Browse our collection of applications</p>
                            <div class="content-actions">
                                <button class="filter-btn active" data-sort="name">
                                    <span class="icon">üî§</span>
                                    Name
                                </button>
                                <button class="filter-btn" data-sort="rating">
                                    <span class="icon">‚≠ê</span>
                                    Rating
                                </button>
                                <button class="filter-btn" data-sort="downloads">
                                    <span class="icon">‚¨áÔ∏è</span>
                                    Downloads
                                </button>
                                <button class="filter-btn" data-sort="updated">
                                    <span class="icon">üïí</span>
                                    Recent
                                </button>
                            </div>
                        </div>

                        <div class="category-pills">
                            <button class="category-pill active" data-category="all">All</button>
                            <button class="category-pill" data-category="productivity">Productivity</button>
                            <button class="category-pill" data-category="development">Development</button>
                            <button class="category-pill" data-category="multimedia">Multimedia</button>
                            <button class="category-pill" data-category="games">Games</button>
                            <button class="category-pill" data-category="education">Education</button>
                            <button class="category-pill" data-category="utilities">Utilities</button>
                            <button class="category-pill" data-category="system">System</button>
                            <button class="category-pill" data-category="graphics">Graphics</button>
                            <button class="category-pill" data-category="network">Network</button>
                            <button class="category-pill" data-category="office">Office</button>
                        </div>

                        <div class="marketplace-apps">
                            <!-- Apps will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/windowManager.js"></script>
    <script src="/js/windowLayoutTools.js"></script>
    <script src="/js/notes.js"></script>
    <script src="/js/systemMonitor.js"></script>
    <script src="/js/monitoringDashboard.js"></script>
    <script src="/js/fileManager.js"></script>
    <script src="/js/containerManager.js"></script>
    <script src="/js/vncClient.js"></script>
    <script src="/js/rdpClient.js"></script>
    <script src="/js/marketplace.js"></script>
    <script src="/js/controlPanel.js"></script>
    <script src="/js/aiModelManager.js"></script>
    <script src="/js/themeCustomizer.js"></script>
    <script src="/js/environmentConfig.js"></script>
    <script src="/js/desktop.js"></script>
</body>

</html>